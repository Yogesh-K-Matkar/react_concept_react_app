import{r as h,j as r}from"./index-CghHssDd.js";import{c as d,a as m,b as x,t as T,u as j,d as E,P as S}from"./redux-thunk-BAXYFKrk.js";import{a as g}from"./index-ngrFHoWO.js";import{a as D}from"./index-pJSAcXf3.js";const w=g.create({baseURL:"https://jsonplaceholder.typicode.com"}),_=async()=>{try{return await w.get("/todos?_limit=5")}catch(e){console.error("Error Message ",e.message),console.error("Error Status ",e.response.status),console.error("Error Data ",e.response.data)}},u="task/add",k="task/delete",p="task/fetch",v=(e,s,t)=>{let n=0,i="";if(t===void 0)return e;if(t.taskDetails===void 0)return e;if(s===u&&t.taskDetails.name===void 0)return e;if(s===k&&t.taskDetails.index===void 0)return e;if(s===p&&t.taskDetails.tasks===void 0)return e;switch(n=t.taskDetails.index,i=t.taskDetails.name,s){case u:return{...e,tasks:[...e.tasks,i]};case k:const c=e.tasks.filter((l,a)=>a!==n);return{...e,tasks:c};case p:return console.log("Payload:-",t.taskDetails.tasks),{...e,tasks:[...e.tasks,...t.taskDetails.tasks]};default:return e}},N=e=>({type:"task/add",payload:{taskDetails:e}}),b=e=>({type:"task/delete",payload:{taskDetails:e}}),y=e=>({type:"task/fetch",payload:{taskDetails:e}}),A=()=>async e=>{try{const s=await _();if(console.log(s),s.status===200){console.log(s.data);const t=s.data;e(y({tasks:t.map(n=>n.title)}))}else return[]}catch(s){throw new Error(s)}},O={tasks:[],isLoading:!1},R=(e=O,s)=>{if(e.tasks===void 0)return[];let t=s===void 0?"":s.type,n=s===void 0?"":s.payload;return console.log("Initial Task:-",e,t,n),v(e,t,n)};function C(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];if(s.length!==0)return typeof s[0]=="object"?d:d(...s)}const L=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:C,I=m(R,L(x(T))),M=()=>{const[e,s]=h.useState(""),t=j(a=>a.tasks);console.log("State as Task from Store:-",t);const n=E(),i=a=>(a.preventDefault(),n(A()),s("")),c=a=>(a.preventDefault(),n(N({name:e})),s("")),l=(a,o)=>(a.preventDefault(),console.log("Index:-",o),n(b({index:o})),s(""));return r.jsx("div",{className:"todo-container",children:r.jsxs("div",{className:"todo-app",children:[r.jsx("h1",{children:r.jsx("i",{className:"fa-regular fa-pen-to-square",children:"To-do List"})}),r.jsx("div",{className:"row",children:r.jsxs("form",{onSubmit:a=>c(a),children:[r.jsx("input",{type:"text",id:"input-box",placeholder:"Add a new task",required:!0,value:e,onChange:a=>s(a.target.value)}),r.jsx("button",{type:"submit",children:"Add Task"})]})}),r.jsx("button",{onClick:a=>i(a),children:"Fetch Task"}),r.jsx("ul",{id:"list-container",children:t.length===0?r.jsx("p",{children:"No Task Available"}):t?.map((a,o)=>r.jsxs("li",{children:[r.jsxs("p",{children:[o,": ",a]}),r.jsx("div",{children:r.jsx(D,{className:"icon-style",onClick:f=>l(f,o)})})]},o))})]})})},P=()=>r.jsx(M,{}),q=()=>r.jsx(S,{store:I,children:r.jsx(P,{})});export{q as default};
